{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container mt-4">
    <!-- Event Details Section -->
    <div class="row">
        <!-- Event Image -->
        <div class="col-md-6">
            <img src="{{ event.image.url|default:'/static/images/login_bike.jpg' }}"
                 alt="{{ event.title }}" 
                 class="img-fluid rounded shadow" 
                 style="object-fit: cover; max-height: 400px; width: 100%;">
        </div>

        <!-- Event Text Details -->
        <div class="col-md-6 d-flex flex-column justify-content-center">
            <h1 class="mb-3">{{ event.title }}</h1>
            <p>{{ event.description }}</p>
            <p><strong>Date:</strong> {{ event.date|date:"F d, Y" }}</p>
            <p><strong>Location:</strong> {{ event.location }}</p>
            <p><strong>Organizer:</strong> {{ event.organizer }}</p>
            <p><strong>Participants:</strong> 
                {% if event.participants.count > 0 %}
                    {{ event.participants.all|join:", " }}
                {% else %}
                    No participants yet.
                {% endif %}
            </p>
            <div class="mt-3">
                <!-- RSVP Button -->
                <a href="{% url 'event_rsvp' event.id %}" class="btn btn-primary">
                    {% if request.user in event.participants.all %}
                        Leave Event
                    {% else %}
                        Join Event
                    {% endif %}
                </a>
                <a href="{% url 'event_list' %}" class="btn btn-secondary">Back to Events</a>
            </div>
        </div>
    </div>
</div>

<!-- Footer -->
<div class="container text-center mt-5">
    <p class="text-muted">Â© 2024 Bike Connect | <a href="#">Privacy Policy</a> | <a href="#">Terms of Service</a></p>
</div>
{% endblock %}
